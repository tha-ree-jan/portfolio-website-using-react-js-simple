(function(w,d){zaraz.debug=(es="")=>{document.cookie=`zarazDebug=${es}; path=/`;location.reload()};window.zaraz._al=function(dH,dI,dJ){w.zaraz.listeners.push({item:dH,type:dI,callback:dJ});dH.addEventListener(dI,dJ)};zaraz.preview=(dK="")=>{document.cookie=`zarazPreview=${dK}; path=/`;location.reload()};zaraz.i=function(ej){const ek=d.createElement("div");ek.innerHTML=unescape(ej);const el=ek.querySelectorAll("script");for(let em=0;em<el.length;em++){const en=d.createElement("script");el[em].innerHTML&&(en.innerHTML=el[em].innerHTML);for(const eo of el[em].attributes)en.setAttribute(eo.name,eo.value);d.head.appendChild(en);el[em].remove()}d.body.appendChild(ek)};zaraz.f=async function(ep,eq){const er={credentials:"include",keepalive:!0,mode:"no-cors"};if(eq){er.method="POST";er.body=new URLSearchParams(eq);er.headers={"Content-Type":"application/x-www-form-urlencoded"}}return await fetch(ep,er)};!function(et,eu,ev,ew,ex,ey){function ez(eB,eC){ey?ew(eB,eC||32):ex.push(eB,eC)}function eA(eD,eE,eF,eG){return eE&&eu.getElementById(eE)||(eG=eu.createElement(eD||"SCRIPT"),eE&&(eG.id=eE),eF&&(eG.onload=eF),eu.head.appendChild(eG)),eG||{}}ey=/p/.test(eu.readyState),et.addEventListener("on"+ev in et?ev:"load",(function(){for(ey=1;ex[0];)ez(ex.shift(),ex.shift())})),ez._=eA,et.defer=ez,et.deferscript=function(eH,eI,eJ,eK){ez((function(){eA("",eI,eK).src=eH}),eJ)}}(this,d,"pageshow",setTimeout,[]);defer((function(){for(;zaraz.deferred.length;)zaraz.deferred.pop()();Object.defineProperty(zaraz.deferred,"push",{configurable:!0,enumerable:!1,writable:!0,value:function(...eL){let eM=Array.prototype.push.apply(this,eL);for(;zaraz.deferred.length;)zaraz.deferred.pop()();return eM}})}),5500);addEventListener("visibilitychange",(function(){for(;zaraz.deferred.length;)zaraz.deferred.pop()()}));window.zaraz._p=async bb=>new Promise((bc=>{if(bb){bb.e&&bb.e.forEach((bd=>{try{new Function(bd)()}catch(be){console.error(`Error executing script: ${bd}\n`,be)}}));Promise.allSettled((bb.f||[]).map((bf=>fetch(bf[0],bf[1]))))}bc()}));zaraz.pageVariables={};zaraz.__zcl||={};zaraz.track=async function(dO,dP,dQ){return new Promise(((dR,dS)=>{const dT={name:dO,data:{}};for(const dU of[localStorage,sessionStorage])Object.keys(dU||{}).filter((dW=>dW.startsWith("_zaraz_"))).forEach((dV=>{try{dT.data[dV.slice(7)]=JSON.parse(dU.getItem(dV))}catch{dT.data[dV.slice(7)]=dU.getItem(dV)}}));Object.keys(zaraz.pageVariables).forEach((dX=>dT.data[dX]=JSON.parse(zaraz.pageVariables[dX])));Object.keys(zaraz.__zcl).forEach((dY=>dT.data[`__zcl_${dY}`]=zaraz.__zcl[dY]));dT.data.__zarazMCListeners=zaraz.__zarazMCListeners;
//
dT.data={...dT.data,...dP};dT.zarazData=zarazData;fetch("/cdn-cgi/zaraz/t",{credentials:"include",keepalive:!0,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dT)}).catch((()=>{
//
return fetch("/cdn-cgi/zaraz/t",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(dT)})})).then((function(d$){zarazData._let=(new Date).getTime();d$.ok||dS();return 204!==d$.status&&d$.json()})).then((async dZ=>{await zaraz._p(dZ);"function"==typeof dQ&&dQ()})).finally((()=>dR()))}))};zaraz.set=function(ea,eb,ec){try{eb=JSON.stringify(eb)}catch(ed){return}prefixedKey="_zaraz_"+ea;sessionStorage&&sessionStorage.removeItem(prefixedKey);localStorage&&localStorage.removeItem(prefixedKey);delete zaraz.pageVariables[ea];if(void 0!==eb){ec&&"session"==ec.scope?sessionStorage&&sessionStorage.setItem(prefixedKey,eb):ec&&"page"==ec.scope?zaraz.pageVariables[ea]=eb:localStorage&&localStorage.setItem(prefixedKey,eb);zaraz.__watchVar={key:ea,value:eb}}};for(const{m:ee,a:ef}of zarazData.q.filter((({m:eg})=>["debug","set"].includes(eg))))zaraz[ee](...ef);for(const{m:eh,a:ei}of zaraz.q)zaraz[eh](...ei);delete zaraz.q;delete zarazData.q;zaraz.fulfilTrigger=function(cI,cJ,cK,cL){zaraz.__zarazTriggerMap||(zaraz.__zarazTriggerMap={});zaraz.__zarazTriggerMap[cI]||(zaraz.__zarazTriggerMap[cI]="");zaraz.__zarazTriggerMap[cI]+="*"+cJ+"*";zaraz.track("__zarazEmpty",{...cK,__zarazClientTriggers:zaraz.__zarazTriggerMap[cI]},cL)};window.dataLayer=w.dataLayer||[];zaraz._processDataLayer=dy=>{for(const dz of Object.entries(dy))zaraz.set(dz[0],dz[1],{scope:"page"});if(dy.event){if(zarazData.dataLayerIgnore&&zarazData.dataLayerIgnore.includes(dy.event))return;let dA={};for(let dB of dataLayer.slice(0,dataLayer.indexOf(dy)+1))dA={...dA,...dB};delete dA.event;dy.event.startsWith("gtm.")||zaraz.track(dy.event,dA)}};const dx=w.dataLayer.push;Object.defineProperty(w.dataLayer,"push",{configurable:!0,enumerable:!1,writable:!0,value:function(...dC){let dD=dx.apply(this,dC);zaraz._processDataLayer(dC[0]);return dD}});dataLayer.forEach((dE=>zaraz._processDataLayer(dE)));zaraz._cts=()=>{zaraz._timeouts&&zaraz._timeouts.forEach((dF=>clearTimeout(dF)));zaraz._timeouts=[]};zaraz._rl=function(){w.zaraz.listeners&&w.zaraz.listeners.forEach((dG=>dG.item.removeEventListener(dG.type,dG.callback)));window.zaraz.listeners=[]};history.pushState=function(){try{zaraz._rl();zaraz._cts&&zaraz._cts()}finally{History.prototype.pushState.apply(history,arguments);setTimeout((()=>{zarazData.l=d.location.href;zarazData.t=d.title;zaraz.pageVariables={};zaraz.__zarazMCListeners={};zaraz.track("__zarazSPA")}),100)}};history.replaceState=function(){try{zaraz._rl();zaraz._cts&&zaraz._cts()}finally{History.prototype.replaceState.apply(history,arguments);setTimeout((()=>{zarazData.l=d.location.href;zarazData.t=d.title;zaraz.pageVariables={};zaraz.track("__zarazSPA")}),100)}};zaraz._p({"e":["(function(w,d){(function(){document.cookie=\"_ga4s=1\";document.cookie = '_ga4='+unescape(\"d0fe6b8b-8672-4889-b083-1e3dbd186098\")+'; Domain=voguejewellers.lk; Path=/; Expires=Fri, 31 Dec 2028 23:59:59 GMT';document.cookie=\"_ga4sid=1052519130\";})();w.zarazData.executed.push(\"Pageview\");})(window,document)"]})})(window,document);